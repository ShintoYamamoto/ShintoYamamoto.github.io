(()=>{"use strict";var e={331:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".maskQues {\n    & > div {\n        margin: 2em 0px;\n        & > p > span {\n            line-height: 1.2em;\n            &.maskableSpan{\n                background-color: light-dark(#ccc,#666);\n                border-radius: 0.25em;\n                padding: 0px 0.5em;\n                margin: 0px 0.1em;\n                &.masked{\n                    color: rgba(0,0,0,0);\n                    background-color: rgb(218, 105, 105);\n                }\n            }\n        }\n    }\n}",""]);const a=o},703:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".oneQoneAQues{\n    width: 100%;\n    margin: 0px;\n    & > div{\n        margin: 2em 0px;\n        &.evalArea{\n            margin: 2em 0px;\n            display: flex;\n            justify-content: space-between;\n            & > button{\n                font-size: 1rem;\n            }\n            & > .correct{\n                background-color: rgb(208, 77, 77);\n            }\n            & > .wrong{\n                background-color: #5b5eff;\n            }\n            & > .skip{\n                background-color: #888;\n            }\n        }\n    }\n}",""]);const a=o},819:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,'.selectQues{\n    & > .selectAnsArea{\n        & > li {\n            position: relative;\n            padding: 0.5em;\n            border: 3px solid #888;\n            border-radius: 0.5em;\n            margin: 0.5em;\n            &.wrong{\n                border-color: rgb(185, 70, 70);\n                &::before{\n                    content: "×";\n                    position: absolute;\n                    font-size: 1.3em;\n                    left: 0.4em;\n                    color: rgb(185, 70, 70);\n                }\n            }\n            &.correct{\n                border-color: rgb(80, 189, 87);\n                &::before{\n                    content: "";\n                    position: absolute;\n                    height: 0.6em;\n                    width: 0.6em;\n                    border: 3px solid rgb(80, 189, 87);\n                    border-radius: 50%;\n                    left: 0.5em;\n                }\n            }\n        }\n    }\n}',""]);const a=o},365:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,":root {\n  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 400;\n\n  color: #0f0f0f;\n  background-color: #f6f6f6;\n\n  font-synthesis: none;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-text-size-adjust: 100%;\n\n  color-scheme: light dark;\n}\nbody{\n  margin: 0px;\n  height: 100vh;\n}\n#app{\n  height: 100%;\n  & > .pages {\n    height: 100%;\n  }\n}\na {\n  font-weight: 500;\n  color: #646cff;\n  text-decoration: inherit;\n}\n\na:hover {\n  color: #535bf2;\n}\n\nh1 {\n  text-align: center;\n}\nul{\n  padding: 0px 0.5rem;\n}\nli {\n  list-style-type: none;\n  padding: 0.5rem 1rem;\n}\ninput,\ntextarea,\nselect,\nbutton {\n  border-radius: 8px;\n  border: 1px solid transparent;\n  padding: 0.6em 1.2em;\n  font-size: 1em;\n  font-weight: 500;\n  font-family: inherit;\n  color: #0f0f0f;\n  background-color: #ffffff;\n  transition: border-color 0.25s;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);\n}\ntextarea {\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.3);\n}\n\nbutton {\n  cursor: pointer;\n}\n\nbutton:hover {\n  border-color: #396cd8;\n}\nbutton:active {\n  border-color: #396cd8;\n  background-color: #e8e8e8;\n}\n\ninput,\ntextarea,\nselect,\nbutton {\n  outline: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    color: #f6f6f6;\n    background-color: #2f2f2f;\n  }\n\n  a:hover {\n    color: #24c8db;\n  }\n\n  input,\n  textarea,\n  select,\n  button {\n    color: #ffffff;\n    background-color: #0f0f0f98;\n  }\n  button:active {\n    background-color: #0f0f0f69;\n  }\n}\n",""]);const a=o},375:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".ask{\n    width: 80%;\n    margin: auto;\n    text-align: center;\n    font-size: 2rem; \n}\n.quesAreas> div{\n    margin: 0px;\n    & > div{\n        margin: 2em 0px;\n        &.quesArea,\n        &.ansArea{\n            line-height: 1em;\n        }\n        &.evalArea{\n            margin: 2em 0px;\n            display: flex;\n            justify-content: space-between;\n            & > button{\n                font-size: 1rem;\n            }\n            & > .correct{\n                background-color: rgb(208, 77, 77);\n            }\n            & > .wrong{\n                background-color: #5b5eff;\n            }\n            & > .skip{\n                background-color: #888;\n            }\n        }\n    }\n}",""]);const a=o},692:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".dialogBack {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0,0,0,0.5);\n    opacity: 0;\n    transition-duration: 300ms;\n    transition-property: opacity;\n    transition-timing-function: ease;\n    &.open{\n        opacity: 1;\n    }\n    & > div {\n        max-width: 80%;\n        max-height: 90%;\n        min-height: 50%;\n        height: fit-content;\n        background-color: light-dark(#eee,#222);\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        right: 0px;\n        bottom: 0px;\n        margin: auto;\n        border-radius: 2rem;\n        box-shadow: 2px 4px 4px rgba(0,0,0,0.5);\n        padding: 2rem 3rem;\n        box-sizing: border-box;\n    }\n}",""]);const a=o},393:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".fileMenu{\n    position: fixed;\n    background-color: light-dark(#d8d8d8,#282828);\n    & > ul{\n        & > li{\n            transition: background-color 0.3s ease;\n            &:hover{\n                background-color: #222;\n            }\n        }\n    }\n}",""]);const a=o},694:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".quesInput{\n    width: 80%;\n    height: 80%;\n    display: block;\n    margin: auto;\n    text-align: center;\n    padding-top: 2rem;\n\n    & > .fileSaveArea {\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        & > .fileNameInput {\n            width: 100%;\n            box-sizing: border-box;\n        }\n        & > .fileBtnArea{\n            display: flex;\n            justify-content: space-between;\n            margin: 1rem 0px;\n            & > button{\n                width: 5rem;\n                font-size: 1rem;\n                padding: 0.5rem 1rem;\n                box-sizing: border-box;\n            }\n            & > .saveBtn {\n                background-color: rgb(70, 165, 255);\n            }\n            & > .readBtn {\n                background-color: rgb(68, 148, 83);\n            }\n        }\n    }\n    \n    & > textarea{\n        width: 100%;\n        min-height: 50%;\n        font-size: 1rem;\n        display: block;\n        margin: 2em auto;\n        box-sizing: border-box;\n    }\n    & > .startBtn{\n        display: block;\n        margin: auto;\n        background-color: rgb(70, 165, 255);\n    }\n}",""]);const a=o},676:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".fileNameList {\n    font-size: 1.2rem;\n    padding: 0px;\n    & > li {\n        display: flex;\n        justify-content: space-between;\n        padding: 0.5rem;\n        transition: background-color 0.3s ease;\n        &:hover{\n            background-color: light-dark(#ddd,#333);\n        }\n        & > span{\n            max-width: calc(100% - 1em);\n            overflow-x: scroll;\n            &::-webkit-scrollbar{\n                width: 0px;\n            }\n        }\n    }\n}",""]);const a=o},732:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".showStats{\n    width: 80%;\n    margin: auto;\n    text-align: center;\n    & > table{\n        width: 100%;\n        text-align: center;\n        padding-top: 2rem;\n        & > tr {\n            border: 1px solid #888;\n            & > td {\n                padding: 0.5rem;\n                & > span{\n                    padding: 0.5rem 1rem;\n                    border-radius: 0.25rem;\n                }\n                &.correct > span{\n                    background-color: rgb(208, 77, 77);\n                }\n                &.wrong > span{\n                    background-color: #5b5eff;\n                }\n                &.skip > span{\n                    background-color: #888;\n                }\n            }\n        }\n    }\n    & > .backBtn{\n        margin-top: 2em;\n        background-color: #3260f8;\n    }\n}",""]);const a=o},527:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),r=n.n(s),i=n(314),o=n.n(i)()(r());o.push([e.id,".startDialog {\n    button, select, div{\n        display: block;\n        margin: 2em auto;\n    }\n    & > div{\n        text-align: center;\n    }\n    & > .startBtn{\n        background-color: rgb(70, 165, 255);\n    }\n}",""]);const a=o},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);s&&o[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},601:e=>{e.exports=function(e){return e[1]}},642:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(331),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},906:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(703),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},502:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(819),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},788:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(365),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},966:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(375),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},581:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(692),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},730:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(393),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},739:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(694),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},795:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(676),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},533:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(732),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},293:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72),r=n.n(s),i=n(825),o=n.n(i),a=n(659),l=n.n(a),c=n(56),u=n.n(c),h=n(540),d=n.n(h),p=n(113),f=n.n(p),m=n(527),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),r()(m.A,v);const g=m.A&&m.A.locals?m.A.locals:void 0},72:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var i={},o=[],a=0;a<e.length;a++){var l=e[a],c=s.base?l[0]+s.base:l[0],u=i[c]||0,h="".concat(c," ").concat(u);i[c]=u+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=r(p,s);s.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=s(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var a=n(i[o]);t[a].references--}for(var l=s(e,r),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},659:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,r&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},859:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(524),o=r(n(492)),a=r(n(723)),l=r(n(86));n(788);const c=r(n(799)),u=r(n(929));class h extends i.Narve.Component{constructor(){super("div",{id:"app"}),this.pages=(0,i.nr)("div",{class:"pages"}),this.ask=new o.default,this.showStats=new l.default,this.startDialog=new u.default,this.quesInput=new a.default((()=>this.readFileDialog.open())),this.quesStr="",this.pages.children.set(this.quesInput,this.ask,this.showStats),this.readFileDialog=new c.default(((e,t)=>this.quesInput.readFile(e,t))),this.children.set(this.pages,this.readFileDialog,this.startDialog),this.pages.switchFocus(this.quesInput),this.quesInput.onStartBtnClicked=e=>{this.quesStr=e,this.startDialog.open()},this.startDialog.onStartBtnClicked=(e,t)=>{this.start(this.quesStr,e,t)}}start(e,t,n){return s(this,void 0,void 0,(function*(){this.pages.switchFocus(this.ask),this.ask.setQuesSetFromText(e,t,n);let s=new Map;for(;;){const e=yield this.ask.start();e.forEach((e=>{const t=e.ques,n=[...s.get(t)||[],e.eval];s.set(t,n)}));const t=e.filter((e=>"correct"!==e.eval)).map((e=>e.ques));if(!(t.length>0))break;this.ask.setQuesSet(t)}this.pages.switchFocus(this.showStats),this.showStats.show(Array.from(s).map((([e,t])=>({evals:t,ques:e})))),this.showStats.back().then((()=>this.pages.switchFocus(this.quesInput)))}))}}t.default=h},492:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(524),o=n(181);n(966);const a=r(n(884)),l=r(n(908)),c=r(n(728));class u extends i.Narve.Component{constructor(){super("div",{class:"ask"}),this.oneQoneAQues=new a.default,this.maskQues=new l.default,this.selectQues=new c.default,this.quesAreas=(0,i.nr)("div",{class:"quesAreas"},this.oneQoneAQues,this.maskQues,this.selectQues),this.quesSets=[],this.quesStats=[],this.quesResolve=e=>{},this.children.set(this.quesAreas)}start(){return s(this,void 0,void 0,(function*(){this.quesStats=[];for(let e of this.quesSets){let t=null;if((0,o.isMaskQues)(e)&&(this.quesAreas.switchFocus(this.maskQues),t=yield this.maskQues.start(e)),(0,o.isInputQues)(e),(0,o.isSelectQues)(e)&&(this.quesAreas.switchFocus(this.selectQues),t=yield this.selectQues.start(e)),(0,o.isOneQOneAQues)(e)&&(this.quesAreas.switchFocus(this.oneQoneAQues),t=yield this.oneQoneAQues.start(e)),(0,o.isSpellQues)(e)){this.quesAreas.switchFocus(this.selectQues);const n={id:e.id,question:e.question,answer:e.answer,selects:e.selects,isSelectQues:!0};t=yield this.selectQues.start(n)}t&&this.quesStats.push(t)}return this.quesStats}))}shuffleQues(){this.quesSets=this.quesSets.map((e=>({data:e,pri:Math.random()}))).sort(((e,t)=>e.pri-t.pri)).map((e=>e.data))}setQuesSet(e){let t=new Set;try{e.forEach((({id:e})=>{if(t.has(e))throw Error("The value of 'id' must be unique.");t.add(e)}))}catch(e){return console.error(e),void console.warn("quesSets didn't change.")}this.quesSets=e,this.shuffleQues()}setQuesSetFromText(e,t,n){const s="[\\s　]",r=new RegExp(s+"+","g"),i=new RegExp(`^\\$([^\\s　]+)${s}+`);let a=[];const l=e.split("\n").map((e=>e.replace(/([^\\])#.*$/,"$1").replace(/^#.*$/,""))).filter((e=>e.length)).map((e=>{const t=e.match(i);return e=(e=e.replace(i,"")).replace(/\\n/g,"\n"),t?{id:t[0].slice(1),line:e}:{id:null,line:e}}));if("マスク"===t)a=l.map((({id:e,line:t},n)=>({id:null!==e?e:n,question:t,isMaskQues:!0})));else if("一問一答"===t||"選択"===t||"スペル"===t){const e=l.map((({id:e,line:t})=>({id:e,line:t.replace(/\\(.)/g,"$1")}))).map((({id:e,line:t})=>{const n=t.trim().match(r);let s="";null==n||n.forEach((e=>{s=s<e?e:s}));const i=s;return i.length?{id:e,splited:t.split(i)}:void 0})).filter((e=>void 0!==e)).filter((e=>e.splited.length>=2)).map((({id:e,splited:t},s)=>({id:null!==e?e:s+1,question:t[n?1:0],answer:t[n?0:1]})));"一問一答"===t?a=e.map((e=>Object.assign(Object.assign({},e),{isOneQOneAQues:!0}))):"選択"===t?a=e.map((t=>{let n=[],s=new Set;s.add(t.answer);const r=new Set;for(e.forEach((e=>{r.add(e.answer)}));s.size<Math.min(o.numOfSelect,r.size);){const t=Math.floor(Math.random()*e.length);s.add(e[t].answer)}return n=Array.from(s),Object.assign(Object.assign({},t),{selects:n,isSelectQues:!0})})):"スペル"===t&&(a=e.map((e=>{let t=[],n=new Set;n.add(e.answer),(0,o.numOfWrongSpells)(e.answer);let s=0;for(;n.size<Math.min(o.numOfSelect);){const t=(0,o.createRandSpell)(e.answer);if(console.log(t),n.add(t),s++,s>1e3)break}return t=Array.from(n),Object.assign(Object.assign({},e),{selects:t,isSpellQues:!0})})))}this.setQuesSet(a)}}t.default=u},813:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(524);n(581);class r extends s.Narve.Component{constructor(){super("div",{class:"dialogBack"}),this.duration=300,this.timeOut=null,this.elem.style.transitionDuration=this.duration+"ms",this.elem.onclick=()=>{this.close()},this.close()}setContents(e){this.children.set(e),e.elem.onclick=e=>{e.stopPropagation()}}open(){this.timeOut&&clearTimeout(this.timeOut),this.display(),setTimeout((()=>{this.elem.classList.add("open")}),1)}close(){this.elem.classList.remove("open"),this.timeOut=setTimeout((()=>{this.hide()}),this.duration)}}t.default=r},723:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(524);n(739);const r=n(181);class i extends s.Narve.Component{constructor(e){super("div",{class:"quesInput"}),this.fileNameInput=(0,s.nr)("input",{class:"fileNameInput",placeholder:"問題セット名"}),this.saveBtn=(0,s.nr)("button",{class:"saveBtn"},"保存"),this.newDocBtn=(0,s.nr)("button",{class:"newDocBtn"},"新規"),this.readBtn=(0,s.nr)("button",{class:"readBtn"},"一覧"),this.fileSaveArea=(0,s.nr)("div",{class:"fileSaveArea"},this.fileNameInput,(0,s.nr)("div",{class:"fileBtnArea"},this.saveBtn,this.newDocBtn,this.readBtn)),this.textArea=(0,s.nr)("textarea"),this.startBtn=(0,s.nr)("button",{class:"startBtn"},"スタート"),this.children.set(this.fileSaveArea,this.textArea,this.startBtn),this.startBtn.elem.onclick=e=>{e.stopPropagation(),this.textArea.elem instanceof HTMLTextAreaElement&&this.onStartBtnClicked(this.textArea.elem.value)},this.saveBtn.elem.onclick=e=>{e.stopPropagation(),this.saveFile()},this.newDocBtn.elem.onclick=()=>{if(this.fileNameInput.elem instanceof HTMLInputElement&&this.textArea.elem instanceof HTMLTextAreaElement){if(""===this.fileNameInput.elem.value){if(!confirm("問題セット名が入力されていないので、\n現在編集中の問題セットの変更は保存されません。\nよろしいですか？"))return}else this.saveFile();this.fileNameInput.elem.value="",this.textArea.elem.value="",this.textArea.elem.focus()}},this.readBtn.elem.onclick=()=>{e()}}onStartBtnClicked(e){}onSaveBtnClicked(e,t){r.LocalQuesData.write(e,t)}saveFile(){this.fileNameInput.elem instanceof HTMLInputElement&&this.textArea.elem instanceof HTMLTextAreaElement&&this.onSaveBtnClicked(this.fileNameInput.elem.value,this.textArea.elem.value)}readFile(e,t){this.fileNameInput.elem instanceof HTMLInputElement&&(this.fileNameInput.elem.value=e),this.textArea.elem instanceof HTMLTextAreaElement&&(this.textArea.elem.value=t)}}t.default=i},232:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EvalArea=t.AnsArea=t.QuesArea=void 0;const s=n(524),r=n(181);class i extends s.Narve.Component{constructor(){super("div",{class:"quesArea"})}ask(e){this.children.set(...e.split("\n").map((e=>(0,s.nr)("p",{},e))))}}t.QuesArea=i;class o extends s.Narve.Component{constructor(){super("div",{class:"ansArea"}),this.hide()}show(e){this.children.set(...e.split("\n").map((e=>(0,s.nr)("p",{},e))))}hide(){this.setInnerText("")}}t.AnsArea=o;class a extends s.Narve.Component{constructor(){super("div",{class:"evalArea"}),this.correct=(0,s.nr)("button",{class:"correct"},r.evalToStats.get(r.CORRECT_BTN)||""),this.wrong=(0,s.nr)("button",{class:"wrong"},r.evalToStats.get(r.WRONG_BTN)||""),this.skip=(0,s.nr)("button",{class:"skip"},r.evalToStats.get(r.SKIP_BTN)||""),this.children.set(this.wrong,this.skip,this.correct),this.correct.elem.onclick=e=>{e.stopPropagation(),this.onBtnClicked(r.CORRECT_BTN)},this.wrong.elem.onclick=e=>{e.stopPropagation(),this.onBtnClicked(r.WRONG_BTN)},this.skip.elem.onclick=e=>{e.stopPropagation(),this.onBtnClicked(r.SKIP_BTN)}}display(e){super.display("flex")}onBtnClicked(e){}}t.EvalArea=a},908:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(524),r=n(232);n(642);class i extends s.Narve.Component{constructor(){super("div",{class:"maskQues"}),this.maskQuesArea=new o,this.evalArea=new r.EvalArea,this.children.set(this.maskQuesArea,this.evalArea),this.evalArea.hide()}start(e){return new Promise((t=>{this.evalArea.hide(),this.maskQuesArea.onEnd=()=>{this.evalArea.display(),this.evalArea.onBtnClicked=n=>{t({eval:n,ques:e})}},this.maskQuesArea.ask(e.question)}))}}t.default=i;class o extends r.QuesArea{constructor(){super(),this.maskableSpans=[]}ask(e){this.children.set(...e.split("\n").map((e=>(0,s.nr)("p",{},...this.parseStrToMaskSpans(e))))),console.log(this.maskableSpans,this.checkAllMaskOpened()),this.checkAllMaskOpened()&&this.onEnd()}parseStrToMaskSpans(e){let t=!1,n="",r=[];return e.split("").forEach(((e,i,o)=>{if("["!==e||0!=i&&"\\"===o[i-1]||t)if("]"===e&&i>0&&"\\"!==o[i-1]&&t){t=!1;const e=new a(n.replace(/\\(.)/,"$1"));e.onMaskChanged=()=>{this.checkAllMaskOpened()&&this.onEnd()},this.maskableSpans.push(e),r.push(e),n=""}else n+=e;else t=!0,r.push((0,s.nr)("span",{},n.replace(/\\(.)/g,"$1"))),n=""})),r.push((0,s.nr)("span",{},n.replace(/\\(.)/,"$1"))),r}checkAllMaskOpened(){return this.maskableSpans.every((e=>!e.masked))}onEnd(){}}class a extends s.Narve.Component{constructor(e){super("span",{class:"maskableSpan"},e),this.masked=!1,this.mask(),this.elem.onclick=()=>{this.masked?this.unmask():this.mask(),this.onMaskChanged(this.masked)}}onMaskChanged(e){}mask(){this.masked=!0,this.elem.classList.add("masked")}unmask(){this.masked=!1,this.elem.classList.remove("masked")}}},884:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(524),r=n(232);n(906);class i extends s.Narve.Component{constructor(){super("div",{class:"oneQoneAQues"}),this.quesArea=new r.QuesArea,this.ansArea=new r.AnsArea,this.evalArea=new r.EvalArea,this.resolve=()=>{},this.children.set(this.quesArea,this.ansArea,this.evalArea)}start(e){return new Promise((t=>{this.quesArea.ask(e.question),this.ansArea.hide(),this.evalArea.hide(),document.onclick=()=>{document.onclick=()=>{},this.showAnswer(e),this.resolve=t}}))}showAnswer(e){this.ansArea.show(e.answer),this.evalArea.display("flex"),this.evalArea.onBtnClicked=t=>{this.resolve({eval:t,ques:e})}}}t.default=i},728:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectAnsArea=void 0;const s=n(524),r=n(232),i=n(181);n(502);class o extends s.Narve.Component{constructor(){super("div",{class:"selectQues"}),this.quesArea=new r.QuesArea,this.selectAnsArea=new a,this.children.set(this.quesArea,this.selectAnsArea)}start(e){return new Promise((t=>{this.quesArea.ask(e.question),this.selectAnsArea.showOption(e.selects,e.answer),this.selectAnsArea.onAnswer=n=>{t({eval:n,ques:e})}}))}}t.default=o;class a extends s.Narve.Component{constructor(){super("div",{class:"selectAnsArea"}),this.correctAnsLi=(0,s.nr)()}showOption(e,t){e=e.map((e=>({data:e,pri:Math.random()}))).sort(((e,t)=>e.pri-t.pri)).map((e=>e.data)),this.children.set(...e.map((e=>{const n=(0,s.nr)("li",{},e);return e===t&&(this.correctAnsLi=n),n}))),this.children.forEach((e=>{e.elem.onclick=()=>{this.children.forEach((e=>{e.elem.onclick=()=>{}})),e.elem.classList.add("wrong"),this.correctAnsLi.elem.classList.remove("wrong"),this.correctAnsLi.elem.classList.add("correct");const t=e===this.correctAnsLi;setTimeout((()=>{this.onAnswer(t?i.CORRECT_BTN:i.WRONG_BTN)}),i.selectWaitTime_ms)}}))}onAnswer(e){}}t.SelectAnsArea=a},622:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(524);n(730);class r extends s.Narve.Component{constructor(e){super("div",{class:"fileMenu"},(0,s.nr)("ul",{},...e.map((e=>{const t=(0,s.nr)("li",{},e.name);return t.elem.onclick=()=>{e.command(this.targetComponent),this.close()},t})))),this.targetComponent=null,this.isOpen=!1,this.elem.onclick=e=>e.stopPropagation(),this.close()}toggle(e,t,n){this.isOpen?this.close():this.open(e,t,n)}open(e,t,n){this.targetComponent=n||null,this.display(),this.moveTo(e,t),this.isOpen=!0}moveTo(e,t){this.elem.style.top=t+"px",this.elem.style.left=e-this.elem.getBoundingClientRect().width+"px"}close(){this.hide(),this.isOpen=!1}}t.default=r},799:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(524),i=s(n(813)),o=n(181);n(795);const a=s(n(622));class l extends i.default{constructor(e){super(),this.contents=(0,r.nr)(),this.fnList=(0,r.nr)("ul",{class:"fileNameList"}),this.menues=[{name:"削除",command:e=>{e&&e instanceof c&&(o.LocalQuesData.remove(e.filename),this.reload())}},{name:"名前を変更",command:e=>{if(e&&e instanceof c){const t=prompt("新しい問題セット名を入力してください",e.filename);t&&(o.LocalQuesData.rename(e.filename,t),this.reload())}}}],this.fileMenu=new a.default(this.menues),super.setContents(this.contents),this.contents.children.set(this.fnList,this.fileMenu),this.readFile=e}open(){super.open(),this.reload()}close(){var e;super.close(),null===(e=this.fileMenu)||void 0===e||e.close()}reload(){const e=o.LocalQuesData.read();if(null!==e){const t=Object.entries(e).reverse().reduce(((e,[t,n])=>(e[t]=n,e)),{});this.fnList.children.set(...Object.entries(t).map((([e,t])=>{const n=new c(e);return n.onMenuBtnClicked=()=>{const e=n.elem.getBoundingClientRect(),t=e.x+e.width,s=e.y+e.height;this.fileMenu.toggle(t,s,n)},n.elem.onclick=()=>{this.readFile(e,t.data),this.close()},n})))}}}t.default=l;class c extends r.Narve.Component{constructor(e){super("li",{},(0,r.nr)("span",{},(0,o.escapeHTML)(e))),this.fileMenuBtn=(0,r.nr)("div",{class:"fileMenuBtn"},"⁝"),this.children.push(this.fileMenuBtn),this.filename=e,this.elem.onclick=e=>{e.stopPropagation(),this.onclick()},this.fileMenuBtn.elem.onclick=e=>{e.stopPropagation(),this.onMenuBtnClicked()}}onclick(){}onMenuBtnClicked(){}}},86:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(524),r=n(181);n(533);class i extends s.Narve.Component{constructor(){super("div",{class:"showStats"}),this.accumlatedStats=[],this.statsTable=(0,s.nr)("table"),this.backBtn=(0,s.nr)("button",{class:"backBtn"},"戻る"),this.children.set(this.statsTable,this.backBtn)}setStats(e){this.accumlatedStats=e}display(e){this.statsTable.children.set((0,s.nr)("tr",{},(0,s.nr)("th",{},"id"),(0,s.nr)("th",{},"問題"),(0,s.nr)("th",{},"正答"),(0,s.nr)("th",{},"スタッツ")),...this.accumlatedStats.map((e=>{let t=Math.floor(100*(n=e.evals,i=r.CORRECT_BTN,0===n.length?-1:n.reduce(((e,t)=>e+(t===i?1:0)),0)/n.length)).toString()+"%";var n,i;return"-1"===t&&(t="-"),(0,s.nr)("tr",{},(0,s.nr)("td",{},e.ques.id.toString()),(0,s.nr)("td",{},e.ques.question),(0,s.nr)("td",{},"answer"in e.ques?e.ques.answer:"-"),(0,s.nr)("td",{},(0,s.nr)("span",{},t||"")))}))),super.display(e)}show(e){this.setStats(e),this.display()}back(){return new Promise((e=>{this.backBtn.elem.onclick=e}))}}t.default=i},929:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(524),i=s(n(813)),o=n(181);n(293);class a extends i.default{constructor(){super(),this.quesModeSelect=(0,r.nr)("select",{},...o.quesTypes.map((e=>(0,r.nr)("option",{},e)))),this.startBtn=(0,r.nr)("button",{class:"startBtn"},"スタート"),this.quesAnsSwapCheckbox=(0,r.nr)("input",{type:"checkbox",id:"quesAnsSwapCheckbox-384183967139841037102346103764103410374612867"}),this.quesAnsSwapLabel=(0,r.nr)("label",{for:"quesAnsSwapCheckbox-384183967139841037102346103764103410374612867"},"問題⇔答え"),this.setContents((0,r.nr)("div",{class:"startDialog"},this.quesModeSelect,(0,r.nr)("div",{},this.quesAnsSwapCheckbox,this.quesAnsSwapLabel),this.startBtn)),this.startBtn.elem.onclick=()=>{this.quesModeSelect.elem instanceof HTMLSelectElement&&(0,o.isQuesMode)(this.quesModeSelect.elem.value)&&this.quesAnsSwapCheckbox.elem instanceof HTMLInputElement&&this.onStartBtnClicked(this.quesModeSelect.elem.value,this.quesAnsSwapCheckbox.elem.checked),this.close()}}onStartBtnClicked(e,t){}}t.default=a},181:(e,t)=>{function n(e){return null!==e&&"object"==typeof e&&0===Object.values(e).length||!!Object.values(e).every((e=>function(e){return null!==e&&"object"==typeof e&&"data"in e&&"string"==typeof e.data}(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalQuesData=t.evalToStatsShort=t.evalToStats=t.SKIP_BTN=t.WRONG_BTN=t.CORRECT_BTN=t.selectWaitTime_ms=t.numOfSelect=t.quesTypes=void 0,t.isQuesMode=function(e){if("string"==typeof e)switch(e){case"一問一答":case"選択":case"マスク":case"スペル":return!0}return!1},t.isMaskQues=function(e){return"object"==typeof e&&"isMaskQues"in e},t.isInputQues=function(e){return"object"==typeof e&&"isInputQues"in e},t.isSelectQues=function(e){return"object"==typeof e&&"isSelectQues"in e},t.isOneQOneAQues=function(e){return"object"==typeof e&&"isOneQOneAQues"in e},t.isSpellQues=function(e){return"object"==typeof e&&"isSpellQues"in e},t.escapeHTML=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},t.numOfWrongSpells=function(e){var t,n;const s=(null===(t=e.match(/[aiueo]/g))||void 0===t?void 0:t.length)||0;let r=(null===(n=e.match(/(.)\1{1}/g))||void 0===n?void 0:n.length)||0,i=1;for(;r--;)i*=2;return i+=s*(s-1)/2+s,i},t.createRandSpell=function(e){let t=e.split("");if(0===t.length)return e;const n="aiueoAIUEO".split(""),s=/(.)\1{1}/g;if(.8>Math.random()){const e=t.filter((e=>n.includes(e))).map(((e,t)=>t));if(0===n.length)return t.join("");const s=e.length,r=Math.floor(1.3+Math.random());t=t.map(((e,t)=>0===t?e:n.includes(e)&&r/s>Math.random()?function(e){const t="aiueo".split(""),n="AIUEO".split("");let s=e;if(t.includes(e))for(;s===e;)s=t[Math.floor(Math.random()*t.length)];if(n.includes(e))for(;s===e;)s=t[Math.floor(Math.random()*n.length)];return s===e?"":s}(e):e))}if(.5>Math.random()){const e=Array.from(t.join("").matchAll(s));if(0===e.length)return t.join("");const n=Math.floor(Math.random()*e.length);t.splice(e[n].index,1)}if(.5>Math.random()){let e=1;do{e=Math.floor(Math.random()*(t.length-1))+1,0===e&&alert("0!!")}while(t[e-1]===t[e]||t[e+1]===t[e]);t=[...t.slice(0,e),t[e],...t.slice(e)]}return console.log(t),t.join("")},t.quesTypes=["一問一答","選択","マスク","スペル"],t.numOfSelect=4,t.selectWaitTime_ms=1e4,t.CORRECT_BTN="correct",t.WRONG_BTN="wrong",t.SKIP_BTN="skip",t.evalToStats=new Map,t.evalToStats.set(t.CORRECT_BTN,"正解"),t.evalToStats.set(t.WRONG_BTN,"不正解"),t.evalToStats.set(t.SKIP_BTN,"スキップ"),t.evalToStatsShort=new Map,t.evalToStatsShort.set(t.CORRECT_BTN,"正"),t.evalToStatsShort.set(t.WRONG_BTN,"誤"),t.evalToStatsShort.set(t.SKIP_BTN,"ー");const s="quesData";var r;!function(e){function t(e,t,r=!0){if(""===e)return alert("問題セット名を入力してください"),null;const i=JSON.parse(localStorage.getItem(s)||"{}");if(n(i)){if(e in i&&!confirm(`問題セット「${e}」は既に存在します。\n上書きしますか`))return null;i[e]="string"==typeof t?{data:t}:Object.assign({},t)}return localStorage.setItem(s,JSON.stringify(i)),r&&alert("保存完了しました"),i}e.write=t,e.read=function(){const e=JSON.parse(localStorage.getItem(s)||"{}");return n(e)?e:null},e.remove=function(e){if(confirm(`問題セット「${e}」を削除します。\nよろしいですか？`)){let t=JSON.parse(localStorage.getItem(s)||"{}");n(t)&&e in t&&delete t[e],localStorage.setItem(s,JSON.stringify(t)),alert("削除しました")}},e.rename=function(e,r){let i=JSON.parse(localStorage.getItem(s)||"{}");if(n(i)&&e in i){const n=t(r,Object.assign({},i[e]),!1);if(!n)return;i=n,delete i[e]}localStorage.setItem(s,JSON.stringify(i)),alert("名前を変更しました")}}(r||(t.LocalQuesData=r={}))},927:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(524),i=s(n(859));window.onload=()=>{r.Narve.q("body").children.set(new i.default)}},524:function(e,t){var n,s,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var s,r=0,i=t.length;r<i;r++)!s&&r in t||(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))};function o(e,t,n){void 0===e&&(e="div");var s=document.createElement(e);return t&&Object.entries(t).forEach((function(e){var t=e[0],n=e[1];s.setAttribute(t,n)})),void 0!==n&&(Array.isArray(n)?n.forEach((function(e){s.appendChild(e)})):"string"==typeof n?s.innerHTML=u(n):s.appendChild(n)),s}function a(e){var n;try{n=c(e.elem.cloneNode(!0))}catch(n){return console.error("deepClone",e),(0,t.nr)()}return n}function l(e){var t=new s.Component;return t.querySelector(e),t}function c(e){for(var t=Object(),n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;var r=new s.Component;if(r.elem=e,0===e.children.length)return r;for(n=0;n<e.children.length;n++)r.children.push(c(e.children[n]));return r}function u(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}Object.defineProperty(t,"__esModule",{value:!0}),t.Narve=t.nr=void 0,t.nr=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return new((n=s.Component).bind.apply(n,i([void 0,e,t],r,!1)))},function(e){e.q=l;var t=function(){function t(t,n){for(var s,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.children=new h(this),this.elem=o(t,n||{}),r.every((function(t){return t instanceof e.Component}))?(s=this.children).set.apply(s,r):this.elem.innerHTML=r.join("")}return t.prototype.querySelector=function(e){var t=document.querySelector(e);return null===t?null:(this.elem=t||o("div"),this.children=c(this.elem).children,this)},t.prototype.replaceWith=function(e){e instanceof t?(this.elem.replaceWith(e.elem),this.elem=e.elem,this.children=e.children):(this.elem.replaceWith(e),this.elem=e,this.children=c(e).children)},t.prototype.removeChild=function(e){console.log(e);var t=this.children.findIndex((function(t){return console.log(t,e),t.elem===e.elem}));console.log(t),-1!==t&&this.children.delete(t,1)},t.prototype.removeElem=function(){this.elem.remove()},t.prototype.setInnerText=function(e){this.children=new h(this),this.elem.innerHTML=u(e)},t.prototype.switchFocus=function(e,t){void 0===t&&(t="block"),this.children.forEach((function(e){return e.hide()})),e.display()},t.prototype.display=function(e){void 0===e&&(e="block"),this.elem.style.display=e},t.prototype.hide=function(){this.elem.style.display="none"},t}();e.Component=t}(s||(t.Narve=s={}));var h=function(e){function t(n){var s=e.call(this)||this;return Object.setPrototypeOf(s,t.prototype),s.parent=n,s}return r(t,e),t.prototype.copyWithin=function(e,t,n){if(e=this.__REG_START__(e),t=this.__REG_START__(t),n=this.__REG_END__(n),t>=this.length)return this;if(n<=t)return this;if(e===t)return this;if(e<t)for(var s=0;s<n-t&&!(s+t>=this.length)&&!(s+e>=this.length);s++)this.replace(s+e,this[s+t]);else for(s=n-t-1;s>=0;s--)s+t>=this.length||s+e>=this.length||this.replace(s+e,this[s+t]);return this},t.prototype.fill=function(e,t,n){if(t=this.__REG_START__(t),n=this.__REG_END__(n),t>=this.length||n<=t)return this;for(var s=t;s<n;s++)this.replace(s,e);return this},t.prototype.pop=function(){var t=e.prototype.pop.call(this);if(void 0!==t)return t.removeElem(),t},t.prototype.push=function(){for(var t=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.prototype.push.apply(this,n),n.forEach((function(e){t.parent.elem.insertAdjacentElement("beforeend",e.elem)})),this.length},t.prototype.reverse=function(){for(var e=0,t=this.length-1;t-e>0;){var n=a(this[e]);this.replace(e,a(this[t])),this.replace(t,n),e++,t--}return this},t.prototype.shift=function(){var t=e.prototype.shift.call(this);if(void 0!==t)return t.removeElem(),t},t.prototype.sort=function(t){var n=this,s=i([],this.map((function(e){return a(e)})),!0);return void 0===t?e.prototype.sort.call(this):s.sort((function(e,n){return t(e,n)})),s.forEach((function(e,t){return n.replace(t,e)})),this},t.prototype.splice=function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return this.delete(e,t),this.insert.apply(this,i([e],n,!1)),this},t.prototype.unshift=function(){for(var t=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return n.forEach((function(e){return t.parent.elem.insertAdjacentElement("afterbegin",e.elem)})),e.prototype.unshift.apply(this,n),this.length},t.prototype.replace=function(e,t){(e=this.__REG_START__(e))>=this.length&&(e=this.length-1),this[e].replaceWith(t.elem.isConnected?a(t):t)},t.prototype.delete=function(t,n){if((t=this.__REG_START__(t))>=this.length)return[];void 0===n&&(n=this.length-t);var s=e.prototype.splice.call(this,t,n);return s.forEach((function(e){return e.removeElem()})),s},t.prototype.insert=function(t){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if((t=this.__REG_START__(t))>=this.length)return console.warn('The value of index is too large. "insert" is regarded as "append"'),void this.push.apply(this,n);var r=this[t].elem;return n.forEach((function(e){r.before(e.elem)})),e.prototype.splice.apply(this,i([t,0],n,!1)),this},t.prototype.set=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.delete(0),this.push.apply(this,e)},t.prototype.map=function(e){var t=[];return this.forEach((function(n,s,r){t.push(e(n,s,r))})),t},t.prototype.__REG_START__=function(e){return void 0===e&&(e=0),e<0&&(e+=this.length),e<0&&(e=0),e},t.prototype.__REG_END__=function(e){return(void 0===e||e>=this.length)&&(e=this.length),e<0&&(e+=this.length),e<0&&(e=0),e},t}(Array)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={id:s,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,n(927)})();
